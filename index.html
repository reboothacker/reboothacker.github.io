<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <title>CryptoExchanger - Быстрый обмен криптовалют</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a1428 0%, #1a2744 25%, #2d4a87 50%, #1a2744 75%, #0a1428 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Animated Background */
        .animated-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            border-radius: 50%;
            animation: particleMove 20s linear infinite;
        }

        @keyframes particleMove {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 30px;
            background: linear-gradient(90deg, rgba(74, 144, 226, 0.1), rgba(123, 179, 240, 0.1));
            animation: wave 8s ease-in-out infinite;
        }

        @keyframes wave {
            0%, 100% {
                clip-path: polygon(0 20%, 100% 0%, 100% 100%, 0 100%);
            }
            50% {
                clip-path: polygon(0 0%, 100% 20%, 100% 100%, 0 100%);
            }
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 20, 40, 0.9);
            backdrop-filter: blur(20px);
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid rgba(74, 144, 226, 0.2);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            margin-right: 0.5rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: logoFloat 4s ease-in-out infinite;
            box-shadow: 0 0 20px rgba(74, 144, 226, 0.5);
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(180deg); }
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-item a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-item a:hover {
            color: #7bb3f0;
            text-shadow: 0 0 10px rgba(123, 179, 240, 0.5);
        }

        .nav-item a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            transition: width 0.3s ease;
        }

        .nav-item a:hover::after {
            width: 100%;
        }

        .connect-btn {
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }

        .connect-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.5);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }

        .hero-content {
            flex: 1;
            max-width: 600px;
            z-index: 2;
        }

        .hero-title {
            font-size: 4rem;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #ffffff, #4a90e2, #7bb3f0);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titleGlow 3s ease-in-out infinite, slideInLeft 1s ease-out;
        }

        @keyframes titleGlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-100px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: #7bb3f0;
            margin-bottom: 2rem;
            animation: slideInLeft 1s ease-out 0.2s both;
        }

        .hero-description {
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 2rem;
            line-height: 1.7;
            font-size: 1.1rem;
            animation: slideInLeft 1s ease-out 0.4s both;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            animation: slideInLeft 1s ease-out 0.6s both;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(74, 144, 226, 0.6);
        }

        .btn-secondary {
            background: rgba(74, 144, 226, 0.1);
            color: #7bb3f0;
            border: 2px solid rgba(74, 144, 226, 0.3);
            padding: 1rem 2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .btn-secondary:hover {
            background: rgba(74, 144, 226, 0.2);
            border-color: #4a90e2;
            transform: translateY(-2px);
        }

        /* Hero Graphics */
        .hero-graphics {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    height: 400px;
}

.crypto-visual {
    position: relative;
    width: 300px;
    height: 300px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.main-crypto-icon {
    width: 120px;
    height: 120px;
    background: linear-gradient(135deg, #4a90e2, #7bb3f0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    color: white;
    box-shadow: 
        0 0 40px rgba(74, 144, 226, 0.6),
        0 0 80px rgba(74, 144, 226, 0.3);
    animation: mainIconPulse 4s ease-in-out infinite;
    position: relative;
    z-index: 10;
}

@keyframes mainIconPulse {
    0%, 100% { 
        transform: scale(1);
        box-shadow: 0 0 40px rgba(74, 144, 226, 0.6), 0 0 80px rgba(74, 144, 226, 0.3);
    }
    50% { 
        transform: scale(1.1);
        box-shadow: 0 0 60px rgba(74, 144, 226, 0.8), 0 0 120px rgba(74, 144, 226, 0.5);
    }
}

.glow-effect {
    position: absolute;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(74, 144, 226, 0.2) 0%, transparent 70%);
    animation: glowPulse 6s ease-in-out infinite;
    z-index: 5;
}

@keyframes glowPulse {
    0%, 100% { 
        transform: scale(1);
        opacity: 0.5;
    }
    50% { 
        transform: scale(1.3);
        opacity: 0.2;
    }
}

.floating-elements {
    position: absolute;
    width: 100%;
    height: 100%;
}

.crypto-float {
    position: absolute;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    color: white;
    font-weight: bold;
    box-shadow: 0 0 20px currentColor;
    animation: cryptoFloatMove 8s ease-in-out infinite;
}

.crypto-float.bitcoin {
    background: linear-gradient(135deg, #f7931a, #ffb84d);
    color: #f7931a;
    top: 15%;
    left: 10%;
    animation-delay: 0s;
}

.crypto-float.ethereum {
    background: linear-gradient(135deg, #627eea, #8fa5f0);
    color: #627eea;
    top: 20%;
    right: 15%;
    animation-delay: 2s;
}

.crypto-float.tether {
    background: linear-gradient(135deg, #26a17b, #4fd1a7);
    color: #26a17b;
    bottom: 25%;
    left: 15%;
    animation-delay: 4s;
}

.crypto-float.binance {
    background: linear-gradient(135deg, #f3ba2f, #f8d36b);
    color: #f3ba2f;
    bottom: 20%;
    right: 10%;
    animation-delay: 6s;
}

@keyframes cryptoFloatMove {
    0%, 100% { 
        transform: translateY(0px) scale(1);
        opacity: 0.8;
    }
    25% { 
        transform: translateY(-20px) scale(1.1);
        opacity: 1;
    }
    50% { 
        transform: translateY(-10px) scale(0.9);
        opacity: 0.9;
    }
    75% { 
        transform: translateY(-25px) scale(1.05);
        opacity: 1;
    }
}

/* Мобильная адаптация */
@media (max-width: 768px) {
    .hero-graphics {
        height: 250px;
        margin-top: 2rem;
    }
    
    .crypto-visual {
        width: 200px;
        height: 200px;
    }
    
    .main-crypto-icon {
        width: 80px;
        height: 80px;
        font-size: 2rem;
    }
    
    .crypto-float {
        display: none; /* Скрываем плавающие элементы на мобильных */
    }
    
    .glow-effect {
        width: 150px;
        height: 150px;
    }
}

@media (max-width: 480px) {
    .hero-graphics {
        height: 200px;
    }
    
    .crypto-visual {
        width: 150px;
        height: 150px;
    }
    
    .main-crypto-icon {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
    }
    
    .glow-effect {
        width: 100px;
        height: 100px;
    }
}

        .floating-crypto {
            position: absolute;
            font-size: 3rem;
            animation: cryptoFloat 8s ease-in-out infinite;
            filter: drop-shadow(0 0 10px currentColor);
        }

        .crypto-bitcoin {
            top: 10%;
            left: 20%;
            color: #f7931a;
            animation-delay: 0s;
        }

        .crypto-ethereum {
            top: 20%;
            right: 15%;
            color: #627eea;
            animation-delay: 2.5s;
        }

        .crypto-usdt {
            bottom: 30%;
            left: 10%;
            color: #26a17b;
            animation-delay: 5s;
        }

        .crypto-bnb {
            bottom: 10%;
            right: 25%;
            color: #f3ba2f;
            animation-delay: 7.5s;
        }

        @keyframes cryptoFloat {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1); 
                opacity: 0.7;
            }
            25% { 
                transform: translateY(-30px) rotate(90deg) scale(1.1); 
                opacity: 1;
            }
            50% { 
                transform: translateY(-15px) rotate(180deg) scale(1); 
                opacity: 0.8;
            }
            75% { 
                transform: translateY(-40px) rotate(270deg) scale(1.1); 
                opacity: 1;
            }
        }

        .main-graphic {
            width: 350px;
            height: 350px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0, #4a90e2);
            background-size: 300% 300%;
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            color: white;
            animation: mainGraphicPulse 3s ease-in-out infinite, gradientRotate 8s linear infinite;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(74, 144, 226, 0.3);
        }

        @keyframes mainGraphicPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes gradientRotate {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-graphic::before {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            animation: shine 4s ease-in-out infinite;
        }

        @keyframes shine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Exchange Section */
        .exchange-section {
            padding: 120px 2rem 60px;
            background: rgba(74, 144, 226, 0.03);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .exchange-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, #4a90e2, transparent);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, #ffffff, #4a90e2, #7bb3f0);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titleGlow 3s ease-in-out infinite;
        }

        .exchange-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 3rem;
            align-items: start;
        }

        .exchange-form {
    /* Увеличиваем непрозрачность фона для мобильных */
    background: rgba(26, 39, 68, 0.85); /* Было rgba(74, 144, 226, 0.1) */
    padding: 2.5rem;
    border-radius: 25px;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(74, 144, 226, 0.4); /* Усиливаем границу */
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5); /* Усиливаем тень */
    transition: all 0.3s ease;
    /* Добавляем дополнительный градиент для мобильных */
    background-image: linear-gradient(135deg, 
        rgba(26, 39, 68, 0.9) 0%, 
        rgba(74, 144, 226, 0.2) 50%, 
        rgba(26, 39, 68, 0.9) 100%);
}

        .exchange-form:hover {
            transform: translateY(-5px);
            box-shadow: 0 30px 60px rgba(74, 144, 226, 0.2);
        }

        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .step-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            border-radius: 50%;
            line-height: 40px;
            text-align: center;
            margin-bottom: 1rem;
            animation: pulse 2s ease-in-out infinite;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: #7bb3f0;
            font-weight: 500;
        }

        .form-row {
            display: flex;
            gap: 1rem;
            align-items: end;
        }

        .form-control {
    background: rgba(10, 20, 40, 0.7); /* Темнее фон */
    border: 1px solid rgba(74, 144, 226, 0.5); /* Ярче граница */
    border-radius: 15px;
    padding: 1rem;
    color: white;
    width: 100%;
    transition: all 0.3s ease;
    font-size: 1rem;
    /* Добавляем внутреннюю тень для глубины */
    box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}
.form-control::placeholder {
    color: rgba(255, 255, 255, 0.5);
}

        .form-control:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 25px rgba(74, 144, 226, 0.4);
            background: rgba(74, 144, 226, 0.15);
        }

        .currency-select {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: rgba(10, 20, 40, 0.7); /* Темнее фон */
    border: 1px solid rgba(74, 144, 226, 0.5); /* Ярче граница */
    border-radius: 15px;
    padding: 1rem;
    cursor: pointer;
    min-width: 140px;
    transition: all 0.3s ease;
    /* Добавляем внутреннюю тень */
    box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
}
        .currency-select:hover {
            background: rgba(74, 144, 226, 0.2);
            border-color: #4a90e2;
        }

        .currency-icon {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            animation: iconSpin 10s linear infinite;
        }

        @keyframes iconSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .swap-button {
            background: linear-gradient(45deg, #4a90e2, #7bb3f0);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            align-self: center;
            box-shadow: 0 8px 20px rgba(74, 144, 226, 0.4);
        }

        .swap-button:hover {
            transform: rotate(180deg) scale(1.1);
            box-shadow: 0 12px 30px rgba(74, 144, 226, 0.6);
        }

        .exchange-rate {
    background: rgba(10, 20, 40, 0.8); /* Темнее фон */
    padding: 1rem;
    border-radius: 15px;
    margin: 1rem 0;
    text-align: center;
    border: 1px solid rgba(74, 144, 226, 0.4); /* Ярче граница */
    /* Добавляем дополнительную тень */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}
@media (max-width: 768px) {
    .exchange-form {
        background: rgba(10, 20, 40, 0.95) !important; /* Принудительно темный фон */
        backdrop-filter: blur(10px);
        border: 2px solid rgba(74, 144, 226, 0.6); /* Еще ярче граница */
        box-shadow: 
            0 20px 40px rgba(0, 0, 0, 0.6),
            inset 0 1px 0 rgba(255, 255, 255, 0.1); /* Внутренний блик */
    }
    
    .form-control {
        background: rgba(0, 10, 25, 0.9) !important; /* Очень темный фон */
        border: 1px solid rgba(74, 144, 226, 0.6);
    }
    
    .currency-select {
        background: rgba(0, 10, 25, 0.9) !important; /* Очень темный фон */
        border: 1px solid rgba(74, 144, 226, 0.6);
    }
    
    .exchange-rate {
        background: rgba(0, 10, 25, 0.9) !important; /* Очень темный фон */
        border: 1px solid rgba(74, 144, 226, 0.6);
    }
}

/* Для очень маленьких экранов */
@media (max-width: 480px) {
    .exchange-form {
        padding: 1.5rem;
        background: rgba(5, 15, 35, 0.98) !important; /* Максимально темный */
        border: 2px solid rgba(74, 144, 226, 0.8);
    }
}

        .rate-value {
            font-size: 1.2rem;
            color: #7bb3f0;
            font-weight: 600;
        }

        /* Exchange Steps - Модифицированная версия */
.exchange-steps {
    background: rgba(26, 39, 68, 0.85);
    padding: 1.5rem;
    border-radius: 20px;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(74, 144, 226, 0.4);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    margin-bottom: 2rem;
    /* Градиент как в форме */
    background-image: linear-gradient(
        135deg,
        rgba(26, 39, 68, 0.9) 0%,
        rgba(74, 144, 226, 0.2) 50%,
        rgba(26, 39, 68, 0.9) 100%
    );
}

.steps-title {
    font-size: 1.3rem;
    margin-bottom: 1.5rem;
    color: #7bb3f0;
    text-align: center;
    text-shadow: 0 0 10px rgba(123, 179, 240, 0.3);
    position: relative;
    padding-bottom: 0.5rem;
}

.steps-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 25%;
    width: 50%;
    height: 1px;
    background: linear-gradient(90deg, transparent, #4a90e2, transparent);
}

.step-item {
    display: flex;
    align-items: center;
    padding: 1rem;
    margin-bottom: 0.75rem;
    border-radius: 12px;
    transition: all 0.3s ease;
    cursor: pointer;
    background: rgba(10, 20, 40, 0.6);
    border: 1px solid rgba(74, 144, 226, 0.2);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

.step-item:last-child {
    margin-bottom: 0;
}

.step-item.active {
    background: rgba(74, 144, 226, 0.25);
    border-left: 3px solid #4a90e2;
    box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
}

.step-item.completed {
    background: rgba(123, 179, 240, 0.15);
    border-left: 3px solid #7bb3f0;
}

.step-icon {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, #4a90e2, #7bb3f0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1rem;
    font-size: 0.9rem;
    font-weight: bold;
    color: white;
    box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
    flex-shrink: 0;
}

.step-item.active .step-icon {
    animation: pulse 2s infinite;
}

.step-item.completed .step-icon {
    background: linear-gradient(135deg, #26a17b, #4fd1a7);
    box-shadow: 0 0 10px rgba(38, 161, 123, 0.5);
}

.step-text {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.4;
}

.step-item.active .step-text {
    color: white;
    font-weight: 500;
}

/* Анимации */
@keyframes pulse {
    0% { transform: scale(1); box-shadow: 0 0 10px rgba(74, 144, 226, 0.5); }
    50% { transform: scale(1.1); box-shadow: 0 0 20px rgba(74, 144, 226, 0.8); }
    100% { transform: scale(1); box-shadow: 0 0 10px rgba(74, 144, 226, 0.5); }
}

/* Мобильная адаптация */
@media (max-width: 768px) {
    .exchange-steps {
        padding: 1.25rem;
        background: rgba(10, 20, 40, 0.95);
        border: 1px solid rgba(74, 144, 226, 0.6);
        margin-bottom: 1.5rem;
    }
    
    .steps-title {
        font-size: 1.2rem;
        margin-bottom: 1.25rem;
    }
    
    .step-item {
        padding: 0.8rem;
        margin-bottom: 0.5rem;
    }
    
    .step-icon {
        width: 28px;
        height: 28px;
        font-size: 0.8rem;
        margin-right: 0.75rem;
    }
    
    .step-text {
        font-size: 0.85rem;
    }
}

@media (max-width: 480px) {
    .exchange-steps {
        padding: 1rem;
        border-radius: 15px;
    }
    
    .steps-title {
        font-size: 1.1rem;
    }
    
    .step-item {
        padding: 0.7rem;
    }
    
    .step-icon {
        width: 24px;
        height: 24px;
    }
}

        /* Reviews Section */
        .reviews-section {
            padding: 100px 2rem;
            background: rgba(74, 144, 226, 0.02);
            position: relative;
            overflow: hidden;
        }

        .reviews-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, #ffffff, #4a90e2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .reviews-container {
            display: flex;
            gap: 2rem;
            animation: scrollReviews 25s linear infinite;
        }

        @keyframes scrollReviews {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .review-card {
            min-width: 350px;
            background: rgba(74, 144, 226, 0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            transition: all 0.3s ease;
        }

        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(74, 144, 226, 0.3);
        }

        .review-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .review-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden; /* чтобы картинка обрезалась по кругу */
    display: flex;
    align-items: center;
    justify-content: center;
    animation: avatarGlow 3s ease-in-out infinite;
}

.review-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* чтобы картинка не искажалась */
}

@keyframes avatarGlow {
    0%, 100% { box-shadow: 0 0 10px rgba(74, 144, 226, 0.3); }
    50% { box-shadow: 0 0 20px rgba(74, 144, 226, 0.6); }
}


        .review-info h4 {
            color: white;
            margin-bottom: 0.2rem;
        }

        .review-stars {
            color: #ffd700;
            margin-bottom: 0.5rem;
        }

        .review-text {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
        }

        /* Stats Section */
        .stats-section {
            padding: 80px 2rem;
            background: linear-gradient(135deg, rgba(74, 144, 226, 0.1), rgba(123, 179, 240, 0.05));
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .stat-card {
            text-align: center;
            padding: 2rem;
            background: rgba(74, 144, 226, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(74, 144, 226, 0.2);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(74, 144, 226, 0.3);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #7bb3f0;
            margin-bottom: 0.5rem;
            animation: countUp 2s ease-out;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1rem;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, rgba(10, 20, 40, 0.9), rgba(26, 39, 68, 0.9));
            padding: 3rem 2rem 1rem;
            border-top: 1px solid rgba(74, 144, 226, 0.2);
            backdrop-filter: blur(20px);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: #7bb3f0;
            font-size: 1.2rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.8rem;
        }

        .footer-section ul li a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .footer-section ul li a:hover {
            color: #7bb3f0;
            text-shadow: 0 0 5px rgba(123, 179, 240, 0.5);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(74, 144, 226, 0.2);
            color: rgba(255, 255, 255, 0.6);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            animation: fadeIn 0.3s ease-out;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, rgba(26, 39, 68, 0.95), rgba(74, 144, 226, 0.1));
            padding: 2rem;
            border-radius: 25px;
            max-width: 500px;
            width: 90%;
            border: 1px solid rgba(74, 144, 226, 0.3);
            backdrop-filter: blur(20px);
            animation: slideInScale 0.3s ease-out;
        }

        @keyframes slideInScale {
            from { opacity: 0; transform: scale(0.8) translateY(50px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .close-modal {
            float: right;
            font-size: 1.5rem;
            cursor: pointer;
            color: rgba(255, 255, 255, 0.7);
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: #7bb3f0;
        }

        /* Order Status */
        .order-status {
            background: rgba(74, 144, 226, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
            border: 1px solid rgba(74, 144, 226, 0.2);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(74, 144, 226, 0.1);
        }

        .status-item:last-child {
            border-bottom: none;
        }

        .status-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .status-icon.completed {
            background: #4CAF50;
            animation: checkmark 0.5s ease-in-out;
        }

        .status-icon.pending {
            background: #FF9800;
            animation: pending 1.5s ease-in-out infinite;
        }

        .status-icon.waiting {
            background: rgba(255, 255, 255, 0.2);
        }

        @keyframes checkmark {
            0% { transform: scale(0); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        @keyframes pending {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .exchange-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .exchange-steps {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .hero {
                flex-direction: column;
                text-align: center;
                padding: 120px 1rem 60px
            }

.hero-title {
    font-size: 2.5rem;
}

.hero-subtitle {
    font-size: 1.1rem;
}

.hero-buttons {
    flex-direction: column;
    align-items: center;
}

.hero-graphics {
    height: 300px;
    margin-top: 2rem;
}

.main-graphic {
    width: 250px;
    height: 250px;
    font-size: 3rem;
}

.floating-crypto {
    font-size: 2rem;
}

.form-row {
    flex-direction: column;
    gap: 0.5rem;
}

.exchange-form {
    padding: 1.5rem;
}

.section-title {
    font-size: 2rem;
}

.stats-grid {
    grid-template-columns: repeat(2, 1fr);
}
}

@media (max-width: 480px) {
.hero-title {
    font-size: 2rem;
}

.nav {
    padding: 1rem;
}

.hero {
    padding: 100px 1rem 40px;
}

.stats-grid {
    grid-template-columns: 1fr;
}

.reviews-container {
    animation: scrollReviews 20s linear infinite;
}

.review-card {
    min-width: 280px;
}
}

/* Loading Animation */
.loading-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg, rgba(10, 20, 40, 0.95), rgba(74, 144, 226, 0.1));
display: flex;
align-items: center;
justify-content: center;
z-index: 3000;
backdrop-filter: blur(10px);
}

.loading-spinner {
width: 80px;
height: 80px;
border: 4px solid rgba(74, 144, 226, 0.3);
border-top: 4px solid #4a90e2;
border-radius: 50%;
animation: spin 1s linear infinite;
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.loading-text {
margin-top: 1rem;
color: #7bb3f0;
font-size: 1.1rem;
}

/* Success Animation */
.success-checkmark {
width: 80px;
height: 80px;
border-radius: 50%;
display: block;
stroke-width: 3;
stroke: #4CAF50;
stroke-miterlimit: 10;
box-shadow: inset 0px 0px 0px #4CAF50;
animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both;
margin: 0 auto 1rem;
}

.success-checkmark-circle {
stroke-dasharray: 166;
stroke-dashoffset: 166;
stroke-width: 3;
stroke-miterlimit: 10;
stroke: #4CAF50;
fill: none;
animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
}

.success-checkmark-check {
transform-origin: 50% 50%;
stroke-dasharray: 48;
stroke-dashoffset: 48;
animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
}

@keyframes stroke {
100% { stroke-dashoffset: 0; }
}

@keyframes scale {
0%, 100% { transform: none; }
50% { transform: scale3d(1.1, 1.1, 1); }
}

@keyframes fill {
100% { box-shadow: inset 0px 0px 0px 30px #4CAF50; }
}

/* QR Code Styles */
.qr-container {
text-align: center;
background: white;
padding: 2rem;
border-radius: 20px;
margin: 1rem 0;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.qr-code {
width: 200px;
height: 200px;
margin: 0 auto 1rem;
background: #f0f0f0;
border-radius: 10px;
display: flex;
align-items: center;
justify-content: center;
color: #333;
font-size: 0.9rem;
text-align: center;
}

.copy-button {
background: linear-gradient(45deg, #4a90e2, #7bb3f0);
color: white;
border: none;
padding: 0.8rem 1.5rem;
border-radius: 25px;
cursor: pointer;
transition: all 0.3s ease;
margin: 0.5rem;
display: inline-flex;
align-items: center;
gap: 0.5rem;
}

.copy-button:hover {
transform: translateY(-2px);
box-shadow: 0 8px 20px rgba(74, 144, 226, 0.4);
}

.copy-button.copied {
background: #4CAF50;
}

/* Notification */
.notification {
position: fixed;
top: 100px;
right: 20px;
background: linear-gradient(45deg, #4a90e2, #7bb3f0);
color: white;
padding: 1rem 1.5rem;
border-radius: 15px;
box-shadow: 0 10px 30px rgba(74, 144, 226, 0.4);
z-index: 2500;
transform: translateX(400px);
transition: transform 0.3s ease;
max-width: 300px;
}

.notification.show {
transform: translateX(0);
}

.notification.success {
background: linear-gradient(45deg, #4CAF50, #66BB6A);
}

.notification.error {
background: linear-gradient(45deg, #F44336, #EF5350);
}

/* Additional Animations */
@keyframes pulse {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}

@keyframes bounce {
0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
40%, 43% { transform: translateY(-15px); }
70% { transform: translateY(-8px); }
90% { transform: translateY(-3px); }
}

.bounce {
animation: bounce 1s ease-in-out;
}

/* Wallet Address Display */
.wallet-address {
background: rgba(74, 144, 226, 0.1);
border: 1px solid rgba(74, 144, 226, 0.3);
border-radius: 15px;
padding: 1rem;
margin: 1rem 0;
word-break: break-all;
font-family: 'Courier New', monospace;
color: #000000;
position: relative;
}

.wallet-address::before {
content: '';
position: absolute;
top: -1px;
left: -1px;
right: -1px;
bottom: -1px;
background: linear-gradient(45deg, #4a90e2, #7bb3f0, #4a90e2);
background-size: 300% 300%;
border-radius: 15px;
z-index: -1;
animation: borderGlow 3s ease infinite;
}

@keyframes borderGlow {
0%, 100% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
}

/* Timer Display */
.timer {
font-size: 1.5rem;
font-weight: bold;
color: #FF6B35;
text-align: center;
margin: 1rem 0;
padding: 1rem;
background: rgba(255, 107, 53, 0.1);
border-radius: 15px;
border: 1px solid rgba(255, 107, 53, 0.3);
}

.timer.warning {
animation: timerPulse 1s ease-in-out infinite;
}

@keyframes timerPulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}

/* Exchange History */
.exchange-history {
background: rgba(74, 144, 226, 0.05);
padding: 2rem;
border-radius: 20px;
margin: 2rem 0;
border: 1px solid rgba(74, 144, 226, 0.1);
}

.history-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: 1rem;
border-bottom: 1px solid rgba(74, 144, 226, 0.1);
transition: all 0.3s ease;
}

.history-item:hover {
background: rgba(74, 144, 226, 0.1);
border-radius: 10px;
}

.history-item:last-child {
border-bottom: none;
}

.history-details {
display: flex;
flex-direction: column;
gap: 0.3rem;
}

.history-amount {
font-weight: bold;
color: #7bb3f0;
}

.history-date {
color: rgba(255, 255, 255, 0.6);
font-size: 0.9rem;
}

.history-status {
padding: 0.3rem 1rem;
border-radius: 20px;
font-size: 0.8rem;
font-weight: 500;
}

.status-completed {
background: rgba(76, 175, 80, 0.2);
color: #4CAF50;
border: 1px solid rgba(76, 175, 80, 0.3);
}

.status-pending {
background: rgba(255, 152, 0, 0.2);
color: #FF9800;
border: 1px solid rgba(255, 152, 0, 0.3);
}

.status-failed {
background: rgba(244, 67, 54, 0.2);
color: #F44336;
border: 1px solid rgba(244, 67, 54, 0.3);
}
/* Голографический интерфейс */
.holographic-interface {
  position: relative;
  width: 400px;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1000px;
}

.holo-display {
  position: relative;
  width: 300px;
  height: 300px;
  background: rgba(74, 144, 226, 0.05);
  border-radius: 10px;
  backdrop-filter: blur(5px);
  border: 1px solid rgba(74, 144, 226, 0.3);
  box-shadow: 
    0 0 30px rgba(74, 144, 226, 0.3),
    inset 0 0 20px rgba(74, 144, 226, 0.2);
  overflow: hidden;
  animation: holoGlow 4s ease-in-out infinite alternate;
}

/* Крипто-сетка */
.crypto-grid {
  position: absolute;
  width: 100%;
  height: 100%;
}

.grid-line {
  position: absolute;
  background: rgba(74, 144, 226, 0.1);
}

.grid-line.vertical {
  width: 1px;
  height: 100%;
  left: 50%;
}

.grid-line.horizontal {
  width: 100%;
  height: 1px;
  top: 50%;
}

/* Мобильные стили для модального окна курсов */
@media (max-width: 768px) {
    #mobileRatesModal .modal-content {
        background: rgba(10, 20, 40, 0.98) !important;
        backdrop-filter: blur(20px);
    }
    
    .mobile-rate-card {
        transition: transform 0.2s ease;
    }
    
    .mobile-rate-card:active {
        transform: scale(0.98);
        background: rgba(74, 144, 226, 0.2) !important;
    }
    
    #mobileRatesContainer::-webkit-scrollbar {
        width: 5px;
    }
}

/* Крипто-узлы */
.crypto-node {
  position: absolute;
  width: 40px;
  height: 40px;
  background: var(--color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  font-weight: bold;
  color: white;
  transform: translate(-50%, -50%);
  left: var(--x);
  top: var(--y);
  box-shadow: 
    0 0 20px var(--color),
    0 0 40px var(--color);
  animation: nodePulse 3s ease-in-out infinite;
  z-index: 2;
}

@keyframes nodePulse {
  0%, 100% { transform: translate(-50%, -50%) scale(1); }
  50% { transform: translate(-50%, -50%) scale(1.1); }
}

/* Соединительные линии */
.connection-line {
  position: absolute;
  height: 2px;
  background: linear-gradient(90deg, rgba(74, 144, 226, 0.8), transparent);
  transform-origin: left center;
  top: var(--y1);
  left: var(--x1);
  width: calc(sqrt((var(--x2) - var(--x1)) + (var(--y2) - var(--y1))) * 1px);
  transform: rotate(calc(atan2(var(--y2) - var(--y1), var(--x2) - var(--x1)) * 1rad));
  animation: lineFlow 3s linear infinite;
}

@keyframes lineFlow {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}

/* График цен */
.price-graph {
  position: absolute;
  bottom: 20px;
  left: 20px;
  right: 20px;
  height: 80px;
}

.graph-line path {
  fill: none;
  stroke: #4a90e2;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 150;
  stroke-dashoffset: 150;
  animation: drawGraph 3s linear forwards infinite;
}

@keyframes drawGraph {
  to { stroke-dashoffset: 0; }
}

/* Голографические кольца */
.holo-ring {
  position: absolute;
  border-radius: 50%;
  border: 1px solid;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
}

.holo-ring.outer {
  width: 380px;
  height: 380px;
  border-color: rgba(74, 144, 226, 0.4);
  animation: rotateRing 40s reverse;
}

.holo-ring.middle {
  width: 320px;
  height: 320px;
  border-color: rgba(123, 179, 240, 0.3);
  animation: rotateRing 30s normal;
}

.holo-ring.inner {
  width: 260px;
  height: 260px;
  border-color: rgba(74, 144, 226, 0.2);
  animation: rotateRing 20s reverse;
}

@keyframes rotateRing {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Цифровые частицы */
.digital-particles {
  position: absolute;
  width: 100%;
  height: 100%;
}

.digital-particles .particle {
  position: absolute;
  color: rgba(74, 144, 226, 0.7);
  font-family: 'Courier New', monospace;
  font-weight: bold;
  font-size: 0.8rem;
  animation: floatParticle 15s linear infinite;
}

.digital-particles .particle:nth-child(1) {
  left: 10%; top: 15%; animation-delay: 0s;
}
.digital-particles .particle:nth-child(2) {
  left: 80%; top: 30%; animation-delay: 3s;
}
.digital-particles .particle:nth-child(3) {
  left: 25%; top: 70%; animation-delay: 6s;
}
.digital-particles .particle:nth-child(4) {
  left: 65%; top: 55%; animation-delay: 9s;
}
.digital-particles .particle:nth-child(5) {
  left: 45%; top: 20%; animation-delay: 12s;
}

@keyframes floatParticle {
  0% { transform: translateY(0) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
}

/* Общее свечение */
@keyframes holoGlow {
  from { box-shadow: 0 0 30px rgba(74, 144, 226, 0.3); }
  to { box-shadow: 0 0 50px rgba(74, 144, 226, 0.6); }
}

/* Мобильная адаптация */
@media (max-width: 768px) {
  .holographic-interface {
    width: 300px;
    height: 300px;
  }
  .connect-btn {
    /* Делаем кнопку круглой */
    width: 50px;
    height: 50px;
    border-radius: 50%;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  /* Скрываем текст (все текстовые узлы внутри кнопки) */
  .connect-btn {
    font-size: 0;
  }

  /* Возвращаем размер иконке */
  .connect-btn .fas {
    font-size: 1.25rem;
  }

  /* Добавляем подсказку при наведении */
  .connect-btn:hover::after {
    content: "Подключить кошелек";
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .connect-btn:hover::after {
    opacity: 1;
  }
  .holo-display {
    width: 250px;
    height: 250px;
  }
  
  .holo-ring.outer {
    width: 280px;
    height: 280px;
  }
  
  .holo-ring.middle {
    width: 230px;
    height: 230px;
  }
  
  .holo-ring.inner {
    width: 180px;
    height: 180px;
  }
}
</style>
</head>
<body>
<!-- Loading Overlay -->
<div class="loading-overlay" id="loadingOverlay">
    <div>
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading...</div>
    </div>
  </div>
  
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="wave"></div>
  </div>
  
  <!-- Header -->
  <header class="header">
    <nav class="nav">
      <div class="logo">
        <div class="logo-icon">
          <i class="fas fa-exchange-alt"></i>
        </div>
        CryptoExchanger
      </div>
      <ul class="nav-menu">
        <li class="nav-item"><a href="#exchange">Exchange</a></li>
        <li class="nav-item"><a href="#reviews">Reviews</a></li>
        <li class="nav-item"><a href="#about">About Us</a></li>
        <li class="nav-item"><a href="#support">Support</a></li>
      </ul>
      <button class="connect-btn" onclick="connectWallet()">
        <i class="fas fa-wallet"></i> Connect Wallet
      </button>
    </nav>
  </header>
  
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Fast Cryptocurrency Exchange</h1>
      <p class="hero-subtitle">Secure • Anonymous • Instant</p>
      <p class="hero-description">
        Exchange a wide range of cryptocurrencies at the best rates without registration.
        Fast transactions, minimal fees, and 24/7 support.
      </p>
      <div class="hero-buttons">
        <button class="btn-primary" onclick="scrollToExchange()">
          <i class="fas fa-rocket"></i>
          Start Exchange
        </button>
        <button class="btn-secondary" onclick="showHistory()">
          <i class="fas fa-chart-line"></i>
          View Rates
        </button>
      </div>
    </div>
    <div class="hero-graphics">
      <div class="holographic-interface">
        <!-- Central Holographic Display -->
        <div class="holo-display">
          <div class="crypto-grid">
            <div class="grid-line vertical"></div>
            <div class="grid-line horizontal"></div>
            <div class="crypto-node" style="--x: 30%; --y: 20%; --color: #f7931a">₿</div>
            <div class="crypto-node" style="--x: 70%; --y: 25%; --color: #627eea">Ξ</div>
            <div class="crypto-node" style="--x: 20%; --y: 60%; --color: #26a17b">₮</div>
            <div class="crypto-node" style="--x: 75%; --y: 65%; --color: #f3ba2f">◈</div>
            <div class="connection-line" style="--x1: 30%; --y1: 20%; --x2: 70%; --y2: 25%"></div>
            <div class="connection-line" style="--x1: 70%; --y1: 25%; --x2: 75%; --y2: 65%"></div>
            <div class="connection-line" style="--x1: 75%; --y1: 65%; --x2: 20%; --y2: 60%"></div>
            <div class="connection-line" style="--x1: 20%; --y1: 60%; --x2: 30%; --y2: 20%"></div>
          </div>
          
          <!-- Animated Graphs -->
          <div class="price-graph">
            <svg viewBox="0 0 100 50" class="graph-line">
              <path d="M0,50 L20,30 L40,20 L60,35 L80,10 L100,25" />
            </svg>
          </div>
        </div>
        
        <!-- Rotating Rings -->
        <div class="holo-ring outer"></div>
        <div class="holo-ring middle"></div>
        <div class="holo-ring inner"></div>
        
        <!-- Floating Digital Particles -->
        <div class="digital-particles">
          <div class="particle">1</div>
          <div class="particle">0</div>
          <div class="particle">1</div>
          <div class="particle">0</div>
          <div class="particle">1</div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Exchange Section -->
  <section class="exchange-section" id="exchange">
    <div class="container">
      <h2 class="section-title">Cryptocurrency Exchange</h2>
      <div class="exchange-container">
        <div class="exchange-form">
          <!-- Step 1: Select Currencies -->
          <div class="form-step active" id="step1">
            <div class="step-header">
              <div class="step-number">1</div>
              <h3>Select Currencies for Exchange</h3>
            </div>
            
            <div class="form-group">
              <label class="form-label">You Send</label>
              <div class="form-row">
                <input type="number" class="form-control" id="fromAmount" placeholder="0.00" oninput="calculateExchange()">
                <div class="currency-select" onclick="showCurrencyModal('from')">
                  <img class="currency-icon" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f7931a'%3E%3Cpath d='M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 15.963c-.39 1.643-1.97 2.462-4.062 1.893l-.844 3.39-2.063-.515.82-3.282c-.543-.135-1.097-.294-1.65-.453l-.824 3.296-2.062-.515.844-3.39c-.45-.122-.891-.243-1.316-.36l-2.69-.672.692-2.594s1.523.408 1.492.385c.832.208 1.23-.358 1.37-.71l1.387-5.56c.083.02.19.063.307.122l-.31-.077 1.975-7.91c.149-.37.047-.823-.407-.984 0 0-1.492-.373-1.492-.373l.372-2.782 2.847.71c.53.133 1.05.271 1.56.405l.84-3.366 2.063.515-.82 3.28c.553.16 1.08.34 1.6.515l.818-3.276 2.063.516-.84 3.363c3.463.656 6.06 2.022 5.67 5.402-.318 2.727-2.017 3.844-4.228 3.952.83.612 1.346 1.733 1.13 3.234z'/%3E%3C/svg%3E" alt="BTC">
                  <span>BTC</span>
                  <i class="fas fa-chevron-down"></i>
                </div>
              </div>
            </div>
  
            <div style="text-align: center; margin: 1rem 0;">
              <button class="swap-button" onclick="swapCurrencies()">
                <i class="fas fa-exchange-alt"></i>
              </button>
            </div>
  
            <div class="form-group">
              <label class="form-label">You Receive</label>
              <div class="form-row">
                <input type="number" class="form-control" id="toAmount" placeholder="0.00" readonly>
                <div class="currency-select" onclick="showCurrencyModal('to')">
                  <img class="currency-icon" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23627eea'%3E%3Cpath d='M12 0l-7.5 12L12 24l7.5-12L12 0zm0 2.25l5.625 9.75L12 21.75 6.375 12 12 2.25z'/%3E%3C/svg%3E" alt="ETH">
                  <span>ETH</span>
                  <i class="fas fa-chevron-down"></i>
                </div>
              </div>
            </div>
  
            <div class="exchange-rate">
              <div>Exchange Rate</div>
              <div class="rate-value" id="exchangeRate">1 BTC = 15.3472 ETH</div>
              <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.5rem;">
                Rate updates every 10 seconds
              </div>
            </div>
  
            <button class="btn-primary" style="width: 100%; margin-top: 1rem;" onclick="nextStep()">
              Continue
              <i class="fas fa-arrow-right"></i>
            </button>
          </div>
  
          <!-- Step 2: Wallet Address -->
          <div class="form-step" id="step2">
            <div class="step-header">
              <div class="step-number">2</div>
              <h3>Enter Receiving Address</h3>
            </div>
  
            <div class="form-group">
              <label class="form-label">Wallet Address</label>
              <input type="text" class="form-control" id="receivingAddress" placeholder="0x..." oninput="validateAddress()">
              <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.5rem;">
                Ensure the address is correct. Transactions are irreversible!
              </div>
            </div>
  
            <div class="form-group">
              <label class="form-label">Email for Notifications (Optional)</label>
              <input type="email" class="form-control" id="notificationEmail" placeholder="your@email.com">
            </div>
  
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
              <button class="btn-secondary" style="flex: 1;" onclick="prevStep()">
                <i class="fas fa-arrow-left"></i>
                Back
              </button>
              <button class="btn-primary" style="flex: 2;" onclick="nextStep()" id="continueBtn" disabled>
                Create Exchange
                <i class="fas fa-check"></i>
              </button>
            </div>
          </div>
  
          <!-- Step 3: Payment -->
          <div class="form-step" id="step3">
            <div class="step-header">
              <div class="step-number">3</div>
              <h3>Send Deposit</h3>
            </div>
  
            <div class="timer" id="paymentTimer">
              Time Remaining: <span id="timeLeft">15:00</span>
            </div>
  
            <div class="form-group">
              <label class="form-label">Send This Exact Amount</label>
              <div class="wallet-address" id="sendAmount">0.1 BTC</div>
            </div>
  
            <div class="form-group">
              <label class="form-label">To This Address</label>
              <div class="wallet-address" id="depositAddress">bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</div>
              <button class="copy-button" onclick="copyAddress()">
                <i class="fas fa-copy"></i>
                Copy Address
              </button>
            </div>
  
            <div class="qr-container">
              <div class="qr-code">
                QR Code for Payment<br>
                <i class="fas fa-qrcode" style="font-size: 3rem; margin: 1rem 0;"></i>
              </div>
              <button class="copy-button" onclick="copyAmount()">
                <i class="fas fa-copy"></i>
                Copy Amount
              </button>
            </div>
  
            <div class="order-status">
              <div class="status-item">
                <div class="status-icon pending">
                  <i class="fas fa-clock"></i>
                </div>
                <div>
                  <strong>Waiting for Deposit</strong>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">
                    We are waiting for funds to arrive at the specified address
                  </div>
                </div>
              </div>
              <div class="status-item">
                <div class="status-icon waiting">2</div>
                <div>
                  <strong>Processing Payment</strong>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">
                    Verifying and confirming the transaction
                  </div>
                </div>
              </div>
              <div class="status-item">
                <div class="status-icon waiting">3</div>
                <div>
                  <strong>Sending Funds</strong>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">
                    Transferring to your wallet
                  </div>
                </div>
              </div>
            </div>
  
            <button class="btn-secondary" style="width: 100%; margin-top: 1rem;" onclick="checkPayment()">
              <i class="fas fa-refresh"></i>
              Check Payment
            </button>
          </div>
  
          <!-- Step 4: Success -->
          <div class="form-step" id="step4">
            <div class="step-header">
              <svg class="success-checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                <circle class="success-checkmark-circle" cx="26" cy="26" r="25" fill="none"/>
                <path class="success-checkmark-check" fill="none" d="m14.1 27.2l7.1 7.2 16.7-16.8"/>
              </svg>
              <h3>Exchange Completed!</h3>
            </div>
  
            <div class="form-group">
              <div style="text-align: center; color: #4CAF50; margin: 1rem 0;">
                <i class="fas fa-check-circle" style="font-size: 2rem;"></i>
                <div style="margin-top: 0.5rem;">Funds Successfully Sent</div>
              </div>
            </div>
  
            <div class="exchange-history">
              <h4 style="margin-bottom: 1rem; color: #7bb3f0;">Exchange Details</h4>
              <div class="history-item">
                <div class="history-details">
                  <div class="history-amount">Sent: 0.1 BTC</div>
                  <div class="history-date">Today, 14:23</div>
                </div>
                <div class="history-status status-completed">Completed</div>
              </div>
              <div class="history-item">
                <div class="history-details">
                  <div class="history-amount">Received: 1.534 ETH</div>
                  <div class="history-date">Today, 14:25</div>
                </div>
                <div class="history-status status-completed">Completed</div>
              </div>
            </div>
  
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
              <button class="btn-secondary" style="flex: 1;" onclick="newExchange()">
                <i class="fas fa-plus"></i>
                New Exchange
              </button>
              <button class="btn-primary" style="flex: 1;" onclick="viewTransaction()">
                <i class="fas fa-external-link-alt"></i>
                View on Blockchain
              </button>
            </div>
          </div>
        </div>
  
        <!-- Exchange Steps Sidebar -->
        <div class="exchange-steps">
          <h3 class="steps-title">How It Works</h3>
          <div class="step-item active" id="sideStep1">
            <div class="step-icon">1</div>
            <div class="step-text">Select currencies and exchange amount</div>
          </div>
          <div class="step-item" id="sideStep2">
            <div class="step-icon">2</div>
            <div class="step-text">Specify receiving address</div>
          </div>
          <div class="step-item" id="sideStep3">
            <div class="step-icon">3</div>
            <div class="step-text">Send funds to our address</div>
          </div>
          <div class="step-item" id="sideStep4">
            <div class="step-icon">4</div>
            <div class="step-text">Receive exchanged funds</div>
          </div>
  
          <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid rgba(74, 144, 226, 0.2);">
            <h4 style="color: #7bb3f0; margin-bottom: 1rem;">24/7 Support</h4>
            <p style="font-size: 0.9rem; color: rgba(255,255,255,0.7); line-height: 1.5;">
              If you have any questions, our support team is ready to assist you anytime.
            </p>
            <button class="btn-secondary" style="margin-top: 1rem; width: 100%;" onclick="openSupport()">
              <i class="fas fa-headset"></i>
              Contact Support
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Reviews Section -->
  <section class="reviews-section" id="reviews">
    <div class="container">
      <h2 class="reviews-title">Our Clients' Reviews</h2>
      <div class="reviews-container" id="reviewsContainer">
        <!-- Reviews will be dynamically generated -->
      </div>
    </div>
  </section>
  
  <!-- Stats Section -->
  <section class="stats-section">
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" id="totalExchanges">50,000+</div>
        <div class="stat-label">Successful Exchanges</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalVolume">$25M+</div>
        <div class="stat-label">Trading Volume</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="avgTime">2 min</div>
        <div class="stat-label">Average Exchange Time</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="rating">4.9/5</div>
        <div class="stat-label">User Rating</div>
      </div>
    </div>
  </section>
  
  <!-- Features Section -->
  <section class="features-section" style="padding: 100px 2rem; background: rgba(74, 144, 226, 0.03);">
    <div class="container">
      <h2 class="section-title">Why Choose Us</h2>
      <div class="features-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 3rem;">
        <div class="feature-card" style="background: rgba(74, 144, 226, 0.1); padding: 2rem; border-radius: 20px; border: 1px solid rgba(74, 144, 226, 0.2); backdrop-filter: blur(20px); transition: all 0.3s ease; cursor: pointer;">
          <div class="feature-icon" style="width: 60px; height: 60px; background: linear-gradient(45deg, #4a90e2, #7bb3f0); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; font-size: 1.5rem; animation: featureFloat 4s ease-in-out infinite;">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3 style="color: #7bb3f0; margin-bottom: 1rem; font-size: 1.3rem;">Security</h3>
          <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6;">Multi-layered security system, SSL encryption, and cold storage of funds</p>
        </div>
        
        <div class="feature-card" style="background: rgba(74, 144, 226, 0.1); padding: 2rem; border-radius: 20px; border: 1px solid rgba(74, 144, 226, 0.2); backdrop-filter: blur(20px); transition: all 0.3s ease; cursor: pointer;">
          <div class="feature-icon" style="width: 60px; height: 60px; background: linear-gradient(45deg, #4a90e2, #7bb3f0); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; font-size: 1.5rem; animation: featureFloat 4s ease-in-out infinite 1s;">
            <i class="fas fa-bolt"></i>
          </div>
          <h3 style="color: #7bb3f0; margin-bottom: 1rem; font-size: 1.3rem;">Speed</h3>
          <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6;">Instant exchanges in an average of 2 minutes without delays</p>
        </div>
        
        <div class="feature-card" style="background: rgba(74, 144, 226, 0.1); padding: 2rem; border-radius: 20px; border: 1px solid rgba(74, 144, 226, 0.2); backdrop-filter: blur(20px); transition: all 0.3s ease; cursor: pointer;">
          <div class="feature-icon" style="width: 60px; height: 60px; background: linear-gradient(45deg, #4a90e2, #7bb3f0); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 1.5rem; font-size: 1.5rem; animation: featureFloat 4s ease-in-out infinite 2s;">
            <i class="fas fa-user-secret"></i>
          </div>
          <h3 style="color: #7bb3f0; margin-bottom: 1rem; font-size: 1.3rem;">Anonymity</h3>
          <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.6;">No registration or verification required - only a wallet address</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3><i class="fas fa-exchange-alt"></i> CryptoExchanger</h3>
        <p style="color: rgba(255, 255, 255, 0.7); line-height: 1.6; margin-bottom: 1.5rem;">
          Reliable service for fast and secure cryptocurrency exchange. We operate 24/7 for your convenience.
        </p>
        <div class="social-links" style="display: flex; gap: 1rem;">
          <a href="#" style="color: rgba(255, 255, 255, 0.7); font-size: 1.2rem; transition: all 0.3s ease;" onmouseover="this.style.color='#7bb3f0'; this.style.transform='translateY(-3px)'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'; this.style.transform='translateY(0)'">
            <i class="fab fa-telegram"></i>
          </a>
          <a href="#" style="color: rgba(255, 255, 255, 0.7); font-size: 1.2rem; transition: all 0.3s ease;" onmouseover="this.style.color='#7bb3f0'; this.style.transform='translateY(-3px)'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'; this.style.transform='translateY(0)'">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" style="color: rgba(255, 255, 255, 0.7); font-size: 1.2rem; transition: all 0.3s ease;" onmouseover="this.style.color='#7bb3f0'; this.style.transform='translateY(-3px)'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'; this.style.transform='translateY(0)'">
            <i class="fab fa-discord"></i>
          </a>
          <a href="#" style="color: rgba(255, 255, 255, 0.7); font-size: 1.2rem; transition: all 0.3s ease;" onmouseover="this.style.color='#7bb3f0'; this.style.transform='translateY(-3px)'" onmouseout="this.style.color='rgba(255, 255, 255, 0.7)'; this.style.transform='translateY(0)'">
            <i class="fab fa-redreddit"></i>
          </a>
        </div>
      </div>
  
      <div class="footer-section">
        <h3>Services</h3>
        <ul>
          <li><a href="#exchange">Cryptocurrency Exchange</a></li>
          <li><a href="#rates">Current Rates</a></li>
          <li><a href="#calculator">Calculator</a></li>
          <li><a href="#api">API for Developers</a></li>
          <li><a href="#affiliate">Affiliate Program</a></li>
        </ul>
      </div>
  
      <div class="footer-section">
        <h3>Support</h3>
        <ul>
          <li><a href="#faq">Frequently Asked Questions</a></li>
          <li><a href="#guide">Guide</a></li>
          <li><a href="#contact">Contact Us</a></li>
          <li><a href="#status">Service Status</a></li>
          <li><a href="#feedback">Leave Feedback</a></li>
        </ul>
      </div>
  
      <div class="footer-section">
        <h3>Legal Information</h3>
        <ul>
          <li><a href="#terms">Terms of Use</a></li>
          <li><a href="#privacy">Privacy Policy</a></li>
          <li><a href="#aml">AML/KYC Policy</a></li>
          <li><a href="#cookies">Cookie Usage</a></li>
          <li><a href="#disclaimer">Disclaimer</a></li>
        </ul>
      </div>
    </div>
  
    <div class="footer-bottom">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
        <div>
          © 2025 CryptoExchanger. All rights reserved.
        </div>
        <div style="display: flex; align-items: center; gap: 1rem; color: rgba(255, 255, 255, 0.6);">
          <span>We accept:</span>
          <div style="display: flex; gap: 0.5rem; align-items: center;">
            <span style="font-size: 1.2rem;">₿</span>
            <span style="font-size: 1.2rem;">Ξ</span>
            <span style="font-size: 1.2rem;">₮</span>
            <span style="font-size: 1.2rem;">◈</span>
          </div>
        </div>
      </div>
    </div>
  </footer>
  
  <!-- Currency Selection Modal -->
  <div class="modal" id="currencyModal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeCurrencyModal()">&times;</span>
      <h3 style="margin-bottom: 2rem; color: #7bb3f0;">Select Currency</h3>
      <div class="currency-search" style="margin-bottom: 1.5rem;">
        <input type="text" class="form-control" placeholder="Search for currency..." id="currencySearch" oninput="filterCurrencies()">
      </div>
      <div class="currency-list" id="currencyList" style="max-height: 400px; overflow-y: auto;">
        <!-- Currencies will be populated here -->
      </div>
    </div>
  </div>
  
  <!-- Notification -->
  <div class="notification" id="notification">
    <div id="notificationText"></div>
  </div>

<style>
@keyframes featureFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
}

.feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(74, 144, 226, 0.3);
}

.currency-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 0.5rem;
}

.currency-item:hover {
    background: rgba(74, 144, 226, 0.2);
}

.currency-item img {
    width: 32px;
    height: 32px;
    border-radius: 50%;
}

.currency-info {
    flex: 1;
}

.currency-name {
    font-weight: 600;
    color: white;
}

.currency-symbol {
    color: rgba(255, 255, 255, 0.6);
    font-size: 0.9rem;
}

/* Scrollbar Styles */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(74, 144, 226, 0.1);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(45deg, #4a90e2, #7bb3f0);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(45deg, #7bb3f0, #4a90e2);
}
</style>

<script>
let exchangeRates = {};

// Функция для загрузки курсов обмена
async function loadExchangeRates() {
    try {
        // Используем CoinGecko API для получения курсов
        const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,litecoin,ripple,tether,monero,dogecoin,dash,zcash,stellar-lumens,tron&vs_currencies=usd&include_24hr_change=true');
        const data = await response.json();
        
        // Рассчитываем кросс-курсы между всеми валютами
        const prices = {
            btc: data.bitcoin?.usd || 42500,
            eth: data.ethereum?.usd || 2750,
            ltc: data.litecoin?.usd || 75,
            xrp: data.ripple?.usd || 0.6,
            usdt: data.tether?.usd || 1,
            xmr: data.monero?.usd || 160,
            doge: data.dogecoin?.usd || 0.08,
            dash: data.dash?.usd || 45,
            zec: data.zcash?.usd || 30,
            xlm: data['stellar-lumens']?.usd || 0.12,
            trx: data.tron?.usd || 0.09
        };

        // Создаем все возможные пары валют
        exchangeRates = {};
        const symbols = Object.keys(prices);
        
        symbols.forEach(from => {
            symbols.forEach(to => {
                if (from !== to) {
                    const key = `${from.toUpperCase()}-${to.toUpperCase()}`;
                    exchangeRates[key] = prices[from] / prices[to];
                }
            });
        });

        // Добавляем специальные пары для Tether вариантов (все равны обычному USDT)
        ['OMNI', 'ERC20', 'TRC20'].forEach(type => {
            symbols.forEach(symbol => {
                const upperSymbol = symbol.toUpperCase();
                if (upperSymbol !== 'USDT') {
                    exchangeRates[`USDT_${type}-${upperSymbol}`] = exchangeRates[`USDT-${upperSymbol}`];
                    exchangeRates[`${upperSymbol}-USDT_${type}`] = exchangeRates[`${upperSymbol}-USDT`];
                }
            });
            // Добавляем пары между разными типами USDT (все равны 1)
            ['OMNI', 'ERC20', 'TRC20'].forEach(otherType => {
                if (type !== otherType) {
                    exchangeRates[`USDT_${type}-USDT_${otherType}`] = 1;
                }
            });
            // Добавляем пары с обычным USDT
            exchangeRates[`USDT_${type}-USDT`] = 1;
            exchangeRates[`USDT-USDT_${type}`] = 1;
        });
        
        // Обновляем отображение курса
        updateExchangeRateDisplay();
        
    } catch (error) {
        console.error('Ошибка загрузки курсов:', error);
        // Используем статические курсы в случае ошибки
        setFallbackRates();
    }
}

function setFallbackRates() {
    // Статические курсы всех криптовалют к USD
    const staticPricesUSD = {
        BTC: 42500,
        ETH: 2750, 
        LTC: 75,
        XRP: 0.6,
        USDT: 1,
        USDT_OMNI: 1,
        USDT_ERC20: 1, 
        USDT_TRC20: 1,
        XMR: 160,
        DOGE: 0.08,
        DASH: 45,
        ZEC: 30,
        XLM: 0.12,
        TRX: 0.09
    };

    exchangeRates = {};
    const symbols = Object.keys(staticPricesUSD);
    
    // Создаем все пары курсов
    symbols.forEach(from => {
        symbols.forEach(to => {
            if (from !== to) {
                exchangeRates[`${from}-${to}`] = staticPricesUSD[from] / staticPricesUSD[to];
            }
        });
    });
}

function updateExchangeRateDisplay() {
    const rateKey = `${selectedFromCurrency.symbol}-${selectedToCurrency.symbol}`;
    const rate = exchangeRates[rateKey] || 1;
    
    const rateElement = document.getElementById('exchangeRate');
    if (rateElement) {
        rateElement.textContent = 
            `1 ${selectedFromCurrency.symbol} = ${rate.toFixed(8)} ${selectedToCurrency.symbol}`;
    }
    
    // Если есть сумма в поле "Отдаю", пересчитываем "Получаю"
    const fromAmountElement = document.getElementById('fromAmount');
    if (fromAmountElement) {
        const fromAmount = parseFloat(fromAmountElement.value);
        if (fromAmount && !isNaN(fromAmount)) {
            calculateExchange();
        }
    }
}

function createParticles() {
    const animatedBg = document.querySelector('.animated-bg');
    for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 20 + 's';
        particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
        animatedBg.appendChild(particle);
    }
}
const currencies = [
    { 
        symbol: 'BTC', 
        name: 'Bitcoin', 
        id: 'bitcoin',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23f7931a"%3E%3Cpath d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 15.963c-.39 1.643-1.97 2.462-4.062 1.893l-.844 3.39-2.063-.515.82-3.282c-.543-.135-1.097-.294-1.65-.453l-.824 3.296-2.062-.515.844-3.39c-.45-.122-.891-.243-1.316-.36l-2.69-.672.692-2.594s1.523.408 1.492.385c.832.208 1.23-.358 1.37-.71l1.387-5.56c.083.02.19.063.307.122l-.31-.077 1.975-7.91c.149-.37.047-.823-.407-.984 0 0-1.492-.373-1.492-.373l.372-2.782 2.847.71c.53.133 1.05.271 1.56.405l.84-3.366 2.063.515-.82 3.28c.553.16 1.08.34 1.6.515l.818-3.276 2.063.516-.84 3.363c3.463.656 6.06 2.022 5.67 5.402-.318 2.727-2.017 3.844-4.228 3.952.83.612 1.346 1.733 1.13 3.234z"/%3E%3C/svg%3E',
        depositAddress: 'bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh'
    },
    { 
        symbol: 'ETH', 
        name: 'Ethereum', 
        id: 'ethereum',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23627eea"%3E%3Cpath d="M12 0l-7.5 12L12 24l7.5-12L12 0zm0 2.25l5.625 9.75L12 21.75 6.375 12 12 2.25z"/%3E%3C/svg%3E',
        depositAddress: '0x71C7656EC7ab88b098defB751B7401B5f6d8976F'
    },
    { 
        symbol: 'LTC', 
        name: 'Litecoin', 
        id: 'litecoin',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23345d9d"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold"%3EL%3C/text%3E%3C/svg%3E',
        depositAddress: 'LVDJyQ5QzVj7QJ8FEv3qjTfQK5qDZ7WJ1x'
    },
    { 
        symbol: 'XRP', 
        name: 'Ripple', 
        id: 'ripple',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23000000"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="7" font-weight="bold"%3EXRP%3C/text%3E%3C/svg%3E',
        depositAddress: 'rPFLkxQk6xUGdGYEykqe7PR25Gr7mL8C3H'
    },
    { 
        symbol: 'XMR', 
        name: 'Monero', 
        id: 'monero',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff6600"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="7" font-weight="bold"%3EXMR%3C/text%3E%3C/svg%3E',
        depositAddress: '48jWZww6yE6W1EkpRxD5KQH2KkPX8aQ2qP3f4yQ2R5Jf5b7v5j1m2n3b4v5c6x7z8q9w0e1r2t3y4u5i6o7p8'
    },
    { 
        symbol: 'DOGE', 
        name: 'Dogecoin', 
        id: 'dogecoin',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23c2a633"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="6" font-weight="bold"%3EDOGE%3C/text%3E%3C/svg%3E',
        depositAddress: 'D8vF5j5b3h2m1n4v6c7x8z9q0w1e2r3t4y5u6i7o8p9'
    },
    { 
        symbol: 'DASH', 
        name: 'Dash', 
        id: 'dash',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23008de4"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="7" font-weight="bold"%3EDASH%3C/text%3E%3C/svg%3E',
        depositAddress: 'XqHiz8EXYbTAtBEYs4pWTHh7ipEDQcNQeT'
    },
    { 
        symbol: 'ZEC', 
        name: 'Zcash', 
        id: 'zcash',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23f4b728"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold"%3EZ%3C/text%3E%3C/svg%3E',
        depositAddress: 't1U9yhDA5JZ2hTiNj1WBf2Nwa6p3J5JV5Vd'
    },
    { 
        symbol: 'USDT_OMNI', 
        name: 'Tether Omni', 
        id: 'tether',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2326a17b"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold"%3ET%3C/text%3E%3C/svg%3E',
        depositAddress: '1F1tAaz5x1HUXrCNLbtMDqcw6o5GNn4xqX'
    },
    { 
        symbol: 'USDT_ERC20', 
        name: 'Tether ERC20', 
        id: 'tether',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2326a17b"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold"%3ET%3C/text%3E%3C/svg%3E',
        depositAddress: '0xdAC17F958D2ee523a2206206994597C13D831ec7'
    },
    { 
        symbol: 'USDT_TRC20', 
        name: 'Tether TRC20', 
        id: 'tether',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2326a17b"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="8" font-weight="bold"%3ET%3C/text%3E%3C/svg%3E',
        depositAddress: 'TNPeeaaFB7K9cmo4uQpcU32zGK8G1NYqeL'
    },
    { 
        symbol: 'XLM', 
        name: 'Stellar', 
        id: 'stellar',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2300d2ff"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="7" font-weight="bold"%3EXLM%3C/text%3E%3C/svg%3E',
        depositAddress: 'GAI3GJ2Q3B35AOZJ36C4ANE3HSS4NK7WI6DNO4ZSHRAX6NG7BMX6VJER'
    },
    { 
        symbol: 'TRX', 
        name: 'TRON', 
        id: 'tron',
        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff060a"%3E%3Ccircle cx="12" cy="12" r="12"/%3E%3Ctext x="12" y="16" text-anchor="middle" fill="white" font-size="7" font-weight="bold"%3ETRX%3C/text%3E%3C/svg%3E',
        depositAddress: 'TNPeeaaFB7K9cmo4uQpcU32zGK8G1NYqeL'
    }
];


// Функция для получения валюты по символу
function getCurrencyBySymbol(symbol) {
    return currencies.find(currency => currency.symbol === symbol) || currencies[0];
}

// Функция для получения валюты по ID
function getCurrencyById(id) {
    return currencies.find(currency => currency.id === id) || currencies[0];
}

// Функция для получения валюты по имени
function getCurrencyByName(name) {
    return currencies.find(currency => currency.name === name) || currencies[0];
}


// Функция для обновления отображения валют
function updateCurrencyDisplays() {
    // Обновляем отображение выбранных валют в UI
    const fromCurrencyElements = document.querySelectorAll('.from-currency');
    const toCurrencyElements = document.querySelectorAll('.to-currency');
    
    fromCurrencyElements.forEach(element => {
        element.innerHTML = `<img src="${selectedFromCurrency.icon}" alt="${selectedFromCurrency.name}"> ${selectedFromCurrency.name}`;
    });
    
    toCurrencyElements.forEach(element => {
        element.innerHTML = `<img src="${selectedToCurrency.icon}" alt="${selectedToCurrency.name}"> ${selectedToCurrency.name}`;
    });
}

// Функция для отображения всех курсов валют
function displayAllExchangeRates() {
    console.log('=== ТЕКУЩИЕ КУРСЫ ОБМЕНА ===');
    
    currencies.forEach(fromCurrency => {
        console.log(`\n${fromCurrency.name} (${fromCurrency.symbol}):`);
        
        currencies.forEach(toCurrency => {
            if (fromCurrency.symbol !== toCurrency.symbol) {
                const rateKey = `${fromCurrency.symbol}-${toCurrency.symbol}`;
                const rate = exchangeRates[rateKey];
                
                if (rate) {
                    console.log(`  → 1 ${fromCurrency.symbol} = ${rate.toFixed(8)} ${toCurrency.symbol}`);
                }
            }
        });
    });
}

// Функция для получения курса между любыми двумя валютами
function getExchangeRate(fromSymbol, toSymbol) {
    const rateKey = `${fromSymbol}-${toSymbol}`;
    return exchangeRates[rateKey] || null;
}

// Функция для конвертации суммы между валютами
function convertCurrency(amount, fromSymbol, toSymbol) {
    if (fromSymbol === toSymbol) return amount;
    
    const rate = getExchangeRate(fromSymbol, toSymbol);
    return rate ? (amount * rate) : null;
}

// Функция инициализации
function initCurrencyExchange() {
    loadExchangeRates();
    updateCurrencyDisplays();
    createParticles();
    
    // Обновляем курсы каждые 30 секунд
    setInterval(loadExchangeRates, 30000);
}

// Запускаем инициализацию при загрузке страницы
document.addEventListener('DOMContentLoaded', initCurrencyExchange);

// Reviews data
const reviews = [
    { name: 'Alex Mason', text: 'Fantastic service! Swapped BTC for ETH in just 2 minutes at a great rate.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Alex+Mason&background=random&rounded=true&size=64' },
    { name: 'Maria King', text: 'Been using it for over six months — flawless, lightning-fast, and zero fees.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Maria+King&background=random&rounded=true&size=64' },
    { name: 'Daniel Parker', text: 'Secure, private, and trustworthy. I tell all my friends about it!', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Daniel+Parker&background=random&rounded=true&size=64' },
    { name: 'Anna Scott', text: 'Hands down the best exchange! Support is instant and super helpful.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Anna+Scott&background=random&rounded=true&size=64' },
    { name: 'Ethan Vance', text: 'Clean, intuitive interface — even a beginner can trade with ease. Thanks!', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Ethan+Vance&background=random&rounded=true&size=64' },
    { name: 'Elena Ross', text: 'Traded USDT for BTC in no time. Smooth, simple, and stress-free.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Elena+Ross&background=random&rounded=true&size=64' },
    { name: 'Samuel Newman', text: 'Fast, reliable, and hassle-free. Couldn’t ask for better.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Samuel+Newman&background=random&rounded=true&size=64' },
    { name: 'Olivia Taylor', text: 'Amazing rates and blazing-fast swaps. Love it!', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Olivia+Taylor&background=random&rounded=true&size=64' },
    { name: 'James Carter', text: 'Exchanged ETH to USDC instantly — way better than any other service I’ve tried.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=James+Carter&background=random&rounded=true&size=64' },
    { name: 'Sophia Green', text: 'Super smooth experience from start to finish. Highly recommend!', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Sophia+Green&background=random&rounded=true&size=64' },
    { name: 'Michael Brooks', text: 'The fastest crypto swap I’ve ever done. Absolutely brilliant.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Michael+Brooks&background=random&rounded=true&size=64' },
    { name: 'Chloe Bennett', text: 'Love how simple it is! Even my first trade went perfectly.', rating: 5, avatar: 'https://ui-avatars.com/api/?name=Chloe+Bennett&background=random&rounded=true&size=64' }
];



// Global variables
let currentStep = 1;
let selectedFromCurrency = { symbol: 'BTC', name: 'Bitcoin', icon: currencies[0].icon };
let selectedToCurrency = { symbol: 'ETH', name: 'Ethereum', icon: currencies[1].icon };
let currentSelectType = '';

// Initialize on page load
window.addEventListener('load', function() {
    setTimeout(() => {
        document.getElementById('loadingOverlay').style.display = 'none';
    }, 1500);
    
    createParticles();
    generateReviews();
    animateCounters();
});

// Generate dynamic reviews
function generateReviews() {
    const container = document.getElementById('reviewsContainer');
    const shuffledReviews = [...reviews].sort(() => Math.random() - 0.5);
    
    shuffledReviews.forEach(review => {
        const reviewCard = document.createElement('div');
        reviewCard.className = 'review-card';
        reviewCard.innerHTML = `
            <div class="review-header">
                <div class="review-avatar">
    <img src="${review.avatar}" alt="${review.name}">
</div>

                <div class="review-info">
                    <h4>${review.name}</h4>
                    <div class="review-stars">${'★'.repeat(review.rating)}</div>
                </div>
            </div>
            <p class="review-text">${review.text}</p>
        `;
        container.appendChild(reviewCard);
    });
}

function showCurrencyModal(type) {
    currentSelectType = type;
    const modal = document.getElementById('currencyModal');
    const list = document.getElementById('currencyList');

    list.innerHTML = '';

    currencies.forEach(currency => {
        const item = document.createElement('div');
        item.className = 'currency-item';
        item.onclick = () => selectCurrency(currency);

        // создаём img отдельно
        const img = document.createElement('img');
        img.src = currency.icon;
        img.alt = currency.symbol;

        const infoDiv = document.createElement('div');
        infoDiv.className = 'currency-info';

        const nameDiv = document.createElement('div');
        nameDiv.className = 'currency-name';
        nameDiv.textContent = currency.name;

        const symbolDiv = document.createElement('div');
        symbolDiv.className = 'currency-symbol';
        symbolDiv.textContent = currency.symbol;

        infoDiv.appendChild(nameDiv);
        infoDiv.appendChild(symbolDiv);

        item.appendChild(img);
        item.appendChild(infoDiv);

        list.appendChild(item);
    });

    modal.classList.add('active');
}

function closeCurrencyModal() {
    document.getElementById('currencyModal').classList.remove('active');
}

function selectCurrency(currency) {
    if (currentSelectType === 'from') {
        selectedFromCurrency = currency;
        updateCurrencyDisplay('from', currency);
    } else {
        selectedToCurrency = currency;
        updateCurrencyDisplay('to', currency);
    }
    closeCurrencyModal();
    updateExchangeRateDisplay(); // Обновляем курс после смены валюты
}

function updateCurrencyDisplay(type, currency) {
    const selectors = document.querySelectorAll('.currency-select');
    const target = type === 'from' ? selectors[0] : selectors[1];
    const img = target.querySelector('img');
    const span = target.querySelector('span');
    
    img.src = currency.icon;
    img.alt = currency.symbol;
    span.textContent = currency.symbol;
}

function filterCurrencies() {
    const search = document.getElementById('currencySearch').value.toLowerCase();
    const items = document.querySelectorAll('.currency-item');
    
    items.forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(search) ? 'flex' : 'none';
    });
}

// Exchange calculation
function calculateExchange() {
    const fromAmount = parseFloat(document.getElementById('fromAmount').value);
    const toAmountElement = document.getElementById('toAmount');
    
    if (!fromAmount || fromAmount <= 0 || isNaN(fromAmount)) {
    toAmountElement.value = '0.00';
    return;
  }
    
    const rateKey = `${selectedFromCurrency.symbol}-${selectedToCurrency.symbol}`;
    const rate = exchangeRates[rateKey] || 1;
    const toAmount = fromAmount * rate;
    
    toAmountElement.value = toAmount.toFixed(8);
    if (window.exchangeData) {
        window.exchangeData.fromAmount = fromAmount;
    }
}

function getDepositAddressWithValidation(symbol) {
    if (!symbol) {
        console.warn('Symbol не указан');
        return null;
    }
    
    const currency = currencies.find(curr => curr.symbol.toLowerCase() === symbol.toLowerCase());
    
    if (!currency) {
        console.warn(`Валюта с символом "${symbol}" не найдена`);
        return null;
    }
    
    if (!currency.depositAddress) {
        console.warn(`У валюты "${symbol}" нет адреса для депозита`);
        return null;
    }
    
    return currency.depositAddress;
}
function nextStep() {
    if (currentStep === 1) {
        const fromAmount = document.getElementById('fromAmount').value;
        if (!fromAmount || parseFloat(fromAmount) <= 0) {
            showNotification('Enter the amount', 'error');
            return;
        }
        
        // Сохраняем сумму и валюту для использования на шаге 3
        window.exchangeData = {
            fromAmount: fromAmount,
            fromCurrency: selectedFromCurrency,
            toCurrency: selectedToCurrency
        };
    }
    
    if (currentStep === 2) {
        const address = document.getElementById('receivingAddress').value;
        if (!address || address.length < 10) {
            showNotification('Adress is not correct!', 'error');
            return;
        }
        startPaymentTimer();
        
        const adre = getDepositAddressWithValidation(window.exchangeData.fromCurrency.symbol)
        // Устанавливаем адрес и сумму для шага оплаты
        document.getElementById('sendAmount').textContent = 
            `${window.exchangeData.fromAmount} ${window.exchangeData.fromCurrency.symbol}`;
        document.getElementById('depositAddress').textContent = adre;
        generateQRCode(adre, window.exchangeData.fromAmount);
        console.log(adre, window.exchangeData.fromAmount)

    }
    
    if (currentStep < 4) {
        document.getElementById(`step${currentStep}`).classList.remove('active');
        document.getElementById(`sideStep${currentStep}`).classList.remove('active');
        document.getElementById(`sideStep${currentStep}`).classList.add('completed');
        
        currentStep++;
        document.getElementById(`step${currentStep}`).classList.add('active');
        document.getElementById(`sideStep${currentStep}`).classList.add('active');
    }
}

function prevStep() {
    if (currentStep > 1) {
        document.getElementById(`step${currentStep}`).classList.remove('active');
        document.getElementById(`sideStep${currentStep}`).classList.remove('active');
        
        currentStep--;
        document.getElementById(`step${currentStep}`).classList.add('active');
        document.getElementById(`sideStep${currentStep + 1}`).classList.remove('completed');
        document.getElementById(`sideStep${currentStep}`).classList.add('active');
    }
}
function generateQRCode(address, amount) {
    console.log('Вызов функции с address:', address, 'amount:', amount);
    const qrCodeElement = document.querySelector('.qr-code');
    if (!qrCodeElement) {
        console.error('Элемент .qr-code не найден в DOM');
        return;
    }
    qrCodeElement.innerHTML = ''; // Очищаем

    let qrData;
    if (selectedFromCurrency && selectedFromCurrency.symbol === 'BTC') {
        qrData = `bitcoin:${address}?amount=${amount}`;
    } else if (selectedFromCurrency && selectedFromCurrency.symbol === 'ETH') {
        qrData = `ethereum:${address}?value=${amount}`;
    } else {
        qrData = address;
    }
    console.log('qrData:', qrData);

    if (!qrData) {
        console.error('qrData пустой, QR-код не будет сгенерирован');
        return;
    }

    const qr = new QRious({
        element: qrCodeElement,
        value: qrData,
        size: 200,
        background: '#ffffff',
        foreground: '#000000'
    });
    console.log('QR-код должен быть сгенерирован');
    console.log('Содержимое после генерации:', qrCodeElement.innerHTML);
}
// Address validation
function validateAddress() {
    const address = document.getElementById('receivingAddress').value;
    const continueBtn = document.getElementById('continueBtn');
    
    if (address.length >= 10) {
        continueBtn.disabled = false;
        continueBtn.style.opacity = '1';
    } else {
        continueBtn.disabled = true;
        continueBtn.style.opacity = '0.5';
    }
}

// Payment timer
let paymentTimeLeft = 900; // 15 minutes

function startPaymentTimer() {
    const timer = setInterval(() => {
        const minutes = Math.floor(paymentTimeLeft / 60);
        const seconds = paymentTimeLeft % 60;
        document.getElementById('timeLeft').textContent = 
            `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        if (paymentTimeLeft <= 300) {
            document.getElementById('paymentTimer').classList.add('warning');
        }
        
        if (paymentTimeLeft <= 0) {
            clearInterval(timer);
            showNotification('The waiting time has expired. Create a new exchange.', 'error');
        }
        
        paymentTimeLeft--;
    }, 1000);
}

// Copy functions
function copyAddress() {
    const address = document.getElementById('depositAddress').textContent;
    navigator.clipboard.writeText(address).then(() => {
        showNotification('Адрес скопирован!', 'success');
        const btn = event.target.closest('.copy-button');
        btn.classList.add('copied');
        btn.innerHTML = '<i class="fas fa-check"></i> Скопировано';
        setTimeout(() => {
            btn.classList.remove('copied');
            btn.innerHTML = '<i class="fas fa-copy"></i> Копировать адрес';
        }, 2000);
    });
}

function copyAmount() {
    const amount = document.getElementById('sendAmount').textContent;
    navigator.clipboard.writeText(amount.replace(/[^\d.]/g, '')).then(() => {
        showNotification('Amount is copy!', 'success');
    });
}

// Utility functions
function swapCurrencies() {
    const temp = selectedFromCurrency;
    selectedFromCurrency = selectedToCurrency;
    selectedToCurrency = temp;
    
    updateCurrencyDisplay('from', selectedFromCurrency);
    updateCurrencyDisplay('to', selectedToCurrency);
    updateExchangeRateDisplay(); // Обновляем курс после обмена валют
    if (window.exchangeData) {
        window.exchangeData.fromCurrency = selectedFromCurrency;
        window.exchangeData.toCurrency = selectedToCurrency;
    }
    // Сохраняем значения полей
    const fromAmount = document.getElementById('fromAmount').value;
    const toAmount = document.getElementById('toAmount').value;
    
    // Меняем значения полей местами
    document.getElementById('fromAmount').value = toAmount;
    document.getElementById('toAmount').value = fromAmount;
}
document.getElementById('fromAmount').addEventListener('input', function() {
    // Очищаем поле от нечисловых символов
    this.value = this.value.replace(/[^0-9.]/g, '');
    
    // Проверяем количество точек
    if ((this.value.match(/\./g) || []).length > 1) {
        this.value = this.value.slice(0, -1);
    }
    
    // Вызываем расчет обмена
    calculateExchange();
});

// Загружаем курсы при старте
window.addEventListener('load', function() {
    setTimeout(() => {
        document.getElementById('loadingOverlay').style.display = 'none';
    }, 1500);
    
    createParticles();
    generateReviews();
    loadExchangeRates(); 
    animateCounters();
});

function scrollToExchange() {
    document.getElementById('exchange').scrollIntoView({ behavior: 'smooth' });
}

// Замените функцию showHistory()
async function showHistory() {
    try {
        showNotification('Loading...', 'info');
        
    // Проверяем ширину экрана
    if (window.innerWidth <= 768) {
        showMobileRatesModal();
    } else {
        showExchangeRatesModal();
    }
        
        // Загружаем реальные курсы (замените URL на ваш API)
        const rates = await fetchExchangeRates();
        updateRatesModal(rates);
        
    } catch (error) {

    }
}
function showMobileRatesModal() {
    const modal = document.createElement('div');
    modal.className = 'modal active';
    modal.id = 'mobileRatesModal';
    modal.innerHTML = `
        <div class="modal-content" style="max-width: 100%; width: 100%; height: 100%; border-radius: 0; padding: 1rem;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                <h3 style="color: #7bb3f0; margin: 0;">
                    <i class="fas fa-chart-line"></i> Курсы валют
                </h3>
                <span class="close-modal" onclick="closeRatesModal()" style="font-size: 1.8rem;">&times;</span>
            </div>
            
            <div id="mobileRatesContainer" style="height: calc(100% - 60px); overflow-y: auto;">
                <div class="loading-spinner" style="text-align: center; padding: 2rem;">
                    <div style="width: 40px; height: 40px; border: 4px solid rgba(74, 144, 226, 0.3); 
                        border-top: 4px solid #4a90e2; border-radius: 50%; 
                        animation: spin 1s linear infinite; margin: 0 auto;"></div>
                    <div style="margin-top: 1rem; color: #7bb3f0;">Загрузка курсов...</div>
                </div>
            </div>
        </div>
    `;
    document.body.appendChild(modal);
    fetchAndDisplayMobileRates();
}
async function fetchAndDisplayMobileRates() {
    try {
        const rates = await fetchExchangeRates();
        const container = document.getElementById('mobileRatesContainer');
        
        const cryptoData = [
            { id: 'bitcoin', symbol: 'BTC', name: 'Bitcoin', icon: '₿', color: '#f7931a' },
            { id: 'ethereum', symbol: 'ETH', name: 'Ethereum', icon: 'Ξ', color: '#627eea' },
            { id: 'tether', symbol: 'USDT', name: 'Tether', icon: '₮', color: '#26a17b' },
            { id: 'binancecoin', symbol: 'BNB', name: 'Binance Coin', icon: '◈', color: '#f3ba2f' },
            { id: 'cardano', symbol: 'ADA', name: 'Cardano', icon: '₳', color: '#3468cf' },
            { id: 'polkadot', symbol: 'DOT', name: 'Polkadot', icon: '●', color: '#e6007a' }
        ];
        
        container.innerHTML = cryptoData.map(crypto => {
            const price = rates[crypto.id]?.usd || 0;
            const priceChange = ((Math.random() - 0.5) * 10).toFixed(2);
            const isPositive = priceChange >= 0;
            
            return `
                <div class="mobile-rate-card" style="
                    background: rgba(10, 20, 40, 0.8);
                    border-radius: 12px;
                    padding: 1rem;
                    margin-bottom: 0.75rem;
                    border: 1px solid rgba(74, 144, 226, 0.3);
                    backdrop-filter: blur(10px);
                ">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center;">
                            <div style="
                                width: 40px;
                                height: 40px;
                                background: ${crypto.color};
                                border-radius: 50%;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 1.2rem;
                                color: white;
                                margin-right: 1rem;
                            ">${crypto.icon}</div>
                            <div>
                                <div style="color: white; font-weight: 600;">${crypto.symbol}</div>
                                <div style="color: rgba(255,255,255,0.7); font-size: 0.8rem;">${crypto.name}</div>
                            </div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #7bb3f0; font-weight: bold;">$${price.toLocaleString()}</div>
                            <div style="color: ${isPositive ? '#4CAF50' : '#F44336'}; font-size: 0.8rem;">
                                ${isPositive ? '+' : ''}${priceChange}%
                                <i class="fas fa-arrow-${isPositive ? 'up' : 'down'}" style="margin-left: 0.2rem;"></i>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }).join('');
        
    } catch (error) {
        document.getElementById('mobileRatesContainer').innerHTML = `
            <div style="text-align: center; padding: 2rem; color: #F44336;">
                <i class="fas fa-exclamation-triangle" style="font-size: 2rem;"></i>
                <p>Не удалось загрузить курсы. Проверьте соединение.</p>
                <button onclick="fetchAndDisplayMobileRates()" style="
                    background: rgba(74, 144, 226, 0.2);
                    color: #7bb3f0;
                    border: 1px solid #4a90e2;
                    border-radius: 20px;
                    padding: 0.5rem 1rem;
                    margin-top: 1rem;
                ">Попробовать снова</button>
            </div>
        `;
    }
}
function closeRatesModal() {
    const desktopModal = document.getElementById('ratesModal');
    const mobileModal = document.getElementById('mobileRatesModal');
    
    if (desktopModal) {
        desktopModal.classList.remove('active');
        setTimeout(() => desktopModal.remove(), 300); // Даем время для анимации
    }
    if (mobileModal) {
        mobileModal.classList.remove('active');
        setTimeout(() => mobileModal.remove(), 300);
    }
}

// Добавим обработчик для клика вне модального окна
document.addEventListener('click', (e) => {
    if (e.target.classList.contains('modal')) {
        closeRatesModal();
    }
}, true); // Используем capture phase для мобильных устройств

// Добавьте эти новые функции
async function fetchExchangeRates() {
    // Замените на ваш API endpoint
    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,tether,binancecoin,cardano,polkadot,litecoin,ripple&vs_currencies=usd');
    return await response.json();
}

function showExchangeRatesModal() {
    const modal = document.createElement('div');
    modal.className = 'modal active';
    modal.id = 'ratesModal';
    modal.innerHTML = `
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-modal" onclick="closeRatesModal()">&times;</span>
            <h3 style="margin-bottom: 2rem; color: #7bb3f0; text-align: center;">
                <i class="fas fa-chart-line"></i> Актуальные курсы криптовалют
            </h3>
            <div id="ratesContainer" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 1rem;">
                <div class="loading-spinner" style="grid-column: 1 / -1; text-align: center; padding: 2rem;">
                    <div style="width: 40px; height: 40px; border: 4px solid rgba(74, 144, 226, 0.3); border-top: 4px solid #4a90e2; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
                    <div style="margin-top: 1rem; color: #7bb3f0;">Загрузка курсов...</div>
                </div>
            </div>
        </div>
    `;
    document.body.appendChild(modal);
}

function updateRatesModal(rates) {
    const container = document.getElementById('ratesContainer');
    
    const cryptoData = [
        { id: 'bitcoin', symbol: 'BTC', name: 'Bitcoin', icon: '₿', color: '#f7931a' },
        { id: 'ethereum', symbol: 'ETH', name: 'Ethereum', icon: 'Ξ', color: '#627eea' },
        { id: 'tether', symbol: 'USDT', name: 'Tether', icon: '₮', color: '#26a17b' },
        { id: 'binancecoin', symbol: 'BNB', name: 'Binance Coin', icon: '◈', color: '#f3ba2f' },
        { id: 'cardano', symbol: 'ADA', name: 'Cardano', icon: '₳', color: '#3468cf' },
        { id: 'polkadot', symbol: 'DOT', name: 'Polkadot', icon: '●', color: '#e6007a' }
    ];
    
    container.innerHTML = cryptoData.map(crypto => {
        const price = rates[crypto.id]?.usd || 0;
        const priceChange = ((Math.random() - 0.5) * 10).toFixed(2); // Симуляция изменения цены
        const isPositive = priceChange >= 0;
        
        return `
            <div class="rate-card" style="
                background: rgba(74, 144, 226, 0.1);
                border: 1px solid rgba(74, 144, 226, 0.2);
                border-radius: 15px;
                padding: 1.5rem;
                backdrop-filter: blur(10px);
                transition: all 0.3s ease;
                cursor: pointer;
            " onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 30px rgba(74, 144, 226, 0.3)'" 
               onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                    <div style="
                        width: 50px;
                        height: 50px;
                        background: ${crypto.color};
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 1.5rem;
                        color: white;
                        margin-right: 1rem;
                        box-shadow: 0 0 20px ${crypto.color}50;
                    ">${crypto.icon}</div>
                    <div>
                        <div style="color: white; font-weight: 600; font-size: 1.1rem;">${crypto.symbol}</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">${crypto.name}</div>
                    </div>
                </div>
                <div style="text-align: right;">
                    <div style="color: #7bb3f0; font-size: 1.4rem; font-weight: bold; margin-bottom: 0.5rem;">
                        $${price.toLocaleString()}
                    </div>
                    <div style="color: ${isPositive ? '#4CAF50' : '#F44336'}; font-size: 0.9rem;">
                        ${isPositive ? '+' : ''}${priceChange}%
                        <i class="fas fa-arrow-${isPositive ? 'up' : 'down'}" style="margin-left: 0.3rem;"></i>
                    </div>
                </div>
            </div>
        `;
    }).join('');
}


// Добавьте обработчик клика вне модального окна
document.addEventListener('click', (e) => {
    const ratesModal = document.getElementById('ratesModal');
    if (e.target === ratesModal) {
        closeRatesModal();
    }
});

function connectWallet() {
    showNotification('Coming soon...', 'info');
}

function openSupport() {
    window.open('https://t.me/cryptoexchanger_support', '_blank');
}

function checkPayment() {
    showNotification('Checking the receipt of funds...', 'info');
    // Simulate payment check
    setTimeout(() => {
        if (Math.random() > 0.3) {
            showNotification('Payment has not been received yet. Try again in a minute.', 'error');
} else {
    showNotification('Funds have been blocked by the AML system. Contact support!', 'error');
        }
    }, 2000);
}

function updateOrderStatus() {
    const statusItems = document.querySelectorAll('.status-item');
    statusItems[0].querySelector('.status-icon').classList.remove('pending');
    statusItems[0].querySelector('.status-icon').classList.add('completed');
    statusItems[0].querySelector('.status-icon').innerHTML = '<i class="fas fa-check"></i>';
    
    statusItems[1].querySelector('.status-icon').classList.add('pending');
    statusItems[1].querySelector('.status-icon').innerHTML = '<i class="fas fa-cog fa-spin"></i>';
    
    setTimeout(() => {
        statusItems[1].querySelector('.status-icon').classList.remove('pending');
        statusItems[1].querySelector('.status-icon').classList.add('completed');
        statusItems[1].querySelector('.status-icon').innerHTML = '<i class="fas fa-check"></i>';
        
        statusItems[2].querySelector('.status-icon').classList.add('pending');
        statusItems[2].querySelector('.status-icon').innerHTML = '<i class="fas fa-paper-plane fa-bounce"></i>';
        
        setTimeout(() => {
            statusItems[2].querySelector('.status-icon').classList.remove('pending');
            statusItems[2].querySelector('.status-icon').classList.add('completed');
            statusItems[2].querySelector('.status-icon').innerHTML = '<i class="fas fa-check"></i>';
        }, 1500);
    }, 1000);
}
function newExchange() {
    currentStep = 1;
    document.querySelectorAll('.form-step').forEach(step => step.classList.remove('active'));
    document.querySelectorAll('.step-item').forEach(step => {
        step.classList.remove('active', 'completed');
    });
    
    document.getElementById('step1').classList.add('active');
    document.getElementById('sideStep1').classList.add('active');
    document.getElementById('fromAmount').value = '';
    document.getElementById('toAmount').value = '';
    document.getElementById('receivingAddress').value = '';
    document.getElementById('notificationEmail').value = '';
    
    // Сбрасываем данные обмена
    window.exchangeData = null;
    
    showNotification('Created', 'success');
}

function viewTransaction() {
    const txHash = '0x' + Math.random().toString(16).substring(2, 66);
    window.open(`https://etherscan.io/tx/${txHash}`, '_blank');
}

function showNotification(text, type = 'info') {
    const notification = document.getElementById('notification');
    const notificationText = document.getElementById('notificationText');
    
    notification.className = `notification ${type}`;
    notificationText.textContent = text;
    notification.classList.add('show');
    
    setTimeout(() => {
        notification.classList.remove('show');
    }, 4000);
}

function animateCounters() {
    const counters = [
        { id: 'totalExchanges', target: 50000, suffix: '+' },
        { id: 'totalVolume', target: 25, suffix: 'M+', prefix: '~'},
        { id: 'avgTime', target: 2, suffix: ' мин' },
        { id: 'currencies', target: 300, suffix: '+' },
        { id: 'rating', target: 4.9, suffix: '/5', decimals: 1 }
    ];
    
    counters.forEach(counter => {
        const element = document.getElementById(counter.id);
        
        // Проверяем, существует ли элемент
        if (!element) {
            console.warn(`Элемент с ID "${counter.id}" не найден на странице`);
            return; // Пропускаем этот счетчик
        }
        
        let current = 0;
        const increment = counter.target / 100;
        const timer = setInterval(() => {
            current += increment;
            if (current >= counter.target) {
                current = counter.target;
                clearInterval(timer);
            }
            
            const value = counter.decimals ? current.toFixed(1) : Math.floor(current);
            element.textContent = (counter.prefix || '') + value + (counter.suffix || '');
        }, 50);
    });
}

// Smooth scrolling for navigation
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    });
});

// Header scroll effect
window.addEventListener('scroll', () => {
    const header = document.querySelector('.header');
    if (window.scrollY > 100) {
        header.style.background = 'rgba(10, 20, 40, 0.95)';
        header.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.3)';
    } else {
        header.style.background = 'rgba(10, 20, 40, 0.9)';
        header.style.boxShadow = 'none';
    }
});

// Close modal on outside click
window.addEventListener('click', (e) => {
    const modal = document.getElementById('currencyModal');
    if (e.target === modal) {
        closeCurrencyModal();
    }
});

// Keyboard shortcuts
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
        closeCurrencyModal();
    }
});

// Form validation improvements
document.getElementById('fromAmount').addEventListener('input', function() {
    this.value = this.value.replace(/[^0-9.]/g, '');
    if ((this.value.match(/\./g) || []).length > 1) {
        this.value = this.value.slice(0, -1);
    }
});

document.getElementById('receivingAddress').addEventListener('input', function() {
    const address = this.value;
    const isValid = address.length >= 10 && /^[a-zA-Z0-9]+$/.test(address);
    
    if (isValid) {
        this.style.borderColor = '#4CAF50';
        this.style.boxShadow = '0 0 10px rgba(76, 175, 80, 0.3)';
    } else {
        this.style.borderColor = 'rgba(74, 144, 226, 0.3)';
        this.style.boxShadow = 'none';
    }
});

// Auto-refresh exchange rates with visual feedback
function updateRateVisually() {
    const rateElement = document.getElementById('exchangeRate');
    rateElement.style.transform = 'scale(1.05)';
    rateElement.style.color = '#4CAF50';
    
    setTimeout(() => {
        rateElement.style.transform = 'scale(1)';
        rateElement.style.color = '#7bb3f0';
    }, 300);
}

// Enhanced mobile menu toggle
function toggleMobileMenu() {
    const navMenu = document.querySelector('.nav-menu');
    navMenu.style.display = navMenu.style.display === 'none' ? 'flex' : 'none';
}

// Intersection Observer for animations
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
        }
    });
}, observerOptions);

// Observe all sections for scroll animations
document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.stat-card, .feature-card, .review-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});

// Real-time status updates simulation
function simulateRealTimeUpdates() {
    setInterval(() => {
        const exchanges = document.getElementById('totalExchanges');
        const currentValue = parseInt(exchanges.textContent.replace(/[^\d]/g, ''));
        exchanges.textContent = (currentValue + Math.floor(Math.random() * 3) + 1) + '+';
    }, 30000);
}

// Initialize real-time updates
setTimeout(simulateRealTimeUpdates, 5000);

// Enhanced error handling
window.addEventListener('error', (e) => {
    console.error('Error caught:', e.error);
});

// Performance optimization for mobile
if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
    document.body.style.animation = 'none';
    document.querySelectorAll('.particle').forEach(p => p.remove());
}

</script>

</body>
</html>